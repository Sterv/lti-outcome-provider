<html><head><title>Appendix C &ndash; Custom Parameter Substitution</title></head><body><LTIDocs><div><h3><h1 class=" toc-headings">Appendix C &ndash; Custom Parameter Substitution<toc class="toc-10"></toc></h1></h3><p>Support for substitutable custom parameters is optional and the TP should anticipate that these parameters may come from the TC in their unsubstituted form.</p><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-29"></a></div><h2 class=" toc-headings">C.1&nbsp;&nbsp;&nbsp; LTI User variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:199px;"><p><strong>Message Variable Name</strong></p></th><th style="width:438px;"><p><strong>Description</strong></p></th></tr></thead><tbody><tr><td style="width:199px;"><p>$User.id</p></td><td style="width:438px;"><p>LaunchMixin.user_id&nbsp; (This is the local identifier for the user within the TC.)</p></td></tr><tr><td style="width:199px;"><p>$User.image</p></td><td style="width:438px;"><p>The URL that contains an image of the user suitable for use as a profile picture or avatar.</p></td></tr><tr><td style="width:199px;"><p>$User.username</p></td><td style="width:438px;"><p>The username by which the user is known to the LMS; this will typically be the name entered by the user when they log in</p></td></tr><tr><td style="width:199px;"><p>$User.org</p></td><td style="width:438px;"><p>A URI describing the user's organisational properties; for example, an ldap:// URI.&nbsp; Multiple URIs can be separated using commas.</p></td></tr><tr><td style="width:199px;"><p>$User.scope.mentor</p></td><td style="width:438px;"><p>A comma-separated list of user ID values which the current user can access as a mentor.</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-30"></a></div><h2 class=" toc-headings">C.2&nbsp;&nbsp;&nbsp; LIS Person variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:199px;"><p><strong>Message Variable Name</strong></p></th><th style="width:438px;"><p><strong>XPath for value from LIS Database</strong></p></th></tr></thead><tbody><tr><td style="width:199px;"><p>$Person.sourcedId</p></td><td style="width:438px;"><p>personRecord/sourcedid</p></td></tr><tr><td style="width:199px;"><p>$Person.name.full</p></td><td style="width:438px;"><p>personRecord/person/formname/[formnameType/instanceValue/text="Full"] /formattedName/text</p></td></tr><tr><td style="width:199px;"><p>$Person.name.family</p></td><td style="width:438px;"><p>personRecord/person/name/partName[instanceName/text="Family&rdquo;]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.name.given</p></td><td style="width:438px;"><p>personRecord/person/name/partName[instanceName/text="Given&rdquo;]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.name.middle</p></td><td style="width:438px;"><p>personRecord/person/name/partName[instanceName/text="Middle&rdquo;]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.name.prefix</p></td><td style="width:438px;"><p>personRecord/person/name/partName[instanceName/text="Prefix&rdquo;]/instanceValue/text &nbsp;</p></td></tr><tr><td style="width:199px;"><p>$Person.name.suffix</p></td><td style="width:438px;"><p>personRecord/person/name/partName[instanceName/text="Suffix&rdquo;]/instanceValue/text</p></td></tr><tr><td style="width:199px;height:52px;"><p>$Person.address.street1</p></td><td style="width:438px;height:52px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"]addressPart /nameValuePair /[instanceName/text="NonFieldedStreetAddress1"]/instanceValue /text<a href="#_ftn2" name="_ftnref2" title="" target="_blank">[2]</a></p></td></tr><tr><td style="width:199px;"><p>$Person.address.street2</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"] addressPart /nameValuePair[instanceName/text="NonFieldedStreetAddress2"] /instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.address.street3</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"]addressPart /nameValuePair /[instanceName/text="NonFieldedStreetAddress3"] /instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.address.street4</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"]addressPart /nameValuePair /[instanceName/text="NonFieldedStreetAddress3"] /instanceValue/</p></td></tr><tr><td style="width:199px;"><p>$Person.address.locality</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"]addressPart /nameValuePair /[instanceName/text="Locality"]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.address.statepr</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred "]addressPart /nameValuePair /[instanceName/text="Statepr"]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.address.country</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"]addressPart /nameValuePair /[instanceName/text="Country"]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.address.postcode</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"]addressPart /nameValuePair /[instanceName/text="Postcode"]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.address.timezone</p></td><td style="width:438px;"><p>personRecord/person/address/[addressType/instanceValue/text="Preferred"]addressPart /nameValuePair /[instanceName/text="Timezone"]/instanceValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.phone.mobile</p></td><td style="width:438px;"><p>personRecord/person/contactinfo[contactinfoType/instanceValue/text="Mobile"] /contactInfoValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.phone.primary</p></td><td style="width:438px;"><p>personRecord/person/contactinfo [contactinfoType/instanceValue/text="Telephone_Primary"]/contactinfoValue /text</p></td></tr><tr><td style="width:199px;"><p>$Person.phone.home</p></td><td style="width:438px;"><p>personRecord/person/contactinfo [contactinfoType/instanceValue/text="Telephone_Home"]/contactinfoValue /text</p></td></tr><tr><td style="width:199px;"><p>$Person.phone.work</p></td><td style="width:438px;"><p>personRecord/person/contactinfo [contactinfoType/instanceValue/text="Telephone_Work"]/contactinfoValue /text</p></td></tr><tr><td style="width:199px;"><p>$Person.email.primary</p></td><td style="width:438px;"><p>personRecord/person/contactinfo [contactinfoType/instanceValue/text="Email_Primary"] /contactinfoValue /text</p></td></tr><tr><td style="width:199px;"><p>$Person.email.personal</p></td><td style="width:438px;"><p>person/contactinfo[contactinfoType/instanceValue/text="Email_Personal"] /contactinfoValue /text</p></td></tr><tr><td style="width:199px;"><p>$Person.webaddress</p></td><td style="width:438px;"><p>personRecord/person/contactinfo[contactinfoType/instanceValue/text="Web&shy;&#8209;Address"] /contactinfoValue/text</p></td></tr><tr><td style="width:199px;"><p>$Person.sms</p></td><td style="width:438px;"><p>personRecord/person/contactinfo[contactinfoType/instanceValue/text="SMS"] /contactinfoValue/text</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-31"></a></div><h2 class=" toc-headings">C.3&nbsp;&nbsp;&nbsp; LTI Context Variable</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:199px;"><p><strong>Message Variable Name</strong></p></th><th style="width:438px;"><p><strong>Description</strong></p></th></tr></thead><tbody><tr><td style="width:199px;"><p>$Context.id</p></td><td style="width:438px;"><p>The local identifier for the context within the Tool Consumer system.</p></td></tr><tr><td style="width:199px;"><p>$Context.type</p></td><td style="width:438px;"><p>A comma-separated list of URN values that identify the type of context.</p></td></tr><tr><td style="width:199px;"><p>$Context.label</p></td><td style="width:438px;"><p>A short label for the context.</p></td></tr><tr><td style="width:199px;"><p>$Context.title</p></td><td style="width:438px;"><p>The title for the context.</p></td></tr><tr><td style="width:199px;"><p>$Context.org</p></td><td style="width:438px;"><p>A URI describing the context's organisational properties; for example, an ldap:// URI.&nbsp; Multiple URIs can be separated using commas.</p></td></tr><tr><td style="width:199px;"><p>$Context.id.history</p></td><td style="width:438px;"><p>A comma-separated list of URL-encoded context ID values representing previous copies of the context; the ID of most recent copy should appear first in the list followed by any earlier IDs in reverse chronological order. If context was created from scratch, not as a copy of an existing context, then this variable should have an empty value.</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-32"></a></div><h2 class=" toc-headings">C.4 &nbsp;&nbsp; LTI ResourceLink Variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:199px;"><p><strong>Message Variable Name</strong></p></th><th style="width:438px;"><p><strong>XPath for value from LIS Database</strong></p></th></tr></thead><tbody><tr><td style="width:199px;"><p>$ResourceLink.id</p></td><td style="width:438px;"><p>This is the local identifier for the resource link within the Tool Consumer system from which the launch occurred.</p></td></tr><tr><td style="width:199px;"><p>$ResourceLink.title</p></td><td style="width:438px;"><p>A plain text title for the resource.</p></td></tr><tr><td style="width:199px;"><p>$ResourceLink.description</p></td><td style="width:438px;"><p>A plain text description of the link&rsquo;s destination, suitable for display alongside the link.</p></td></tr><tr><td style="width:199px;"><p>$ResourceLink.id.history</p></td><td style="width:438px;"><p>A comma-separated list of URL-encoded resource link ID values representing the ID of the link from a previous copy of the context; the most recent copy should appear first in the list followed by any earlier IDs in reverse chronological order. If the link was first added to the current context then this variable should have an empty value.</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-33"></a></div><h2 class=" toc-headings">C.5 &nbsp;&nbsp; LIS Course Template Variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:199px;"><p><strong>Message Variable Name</strong></p></th><th style="width:438px;"><p><strong>XPath for value from LIS Database</strong></p></th></tr></thead><tbody><tr><td style="width:199px;"><p>$CourseTemplate.sourcedId</p></td><td style="width:438px;"><p>courseTemplateRecord/sourcedId</p></td></tr><tr><td style="width:199px;"><p>$CourseTemplate.label</p></td><td style="width:438px;"><p>courseTemplateRecord/courseTemplate/label/textString</p></td></tr><tr><td style="width:199px;"><p>$CourseTemplate.title</p></td><td style="width:438px;"><p>courseTemplateRecord/courseTemplate/title/textString</p></td></tr><tr><td style="width:199px;"><p>$CourseTemplate.shortDescription</p></td><td style="width:438px;"><p>courseTemplateRecord/courseTemplate/catalogDescription/shortDescription</p></td></tr><tr><td style="width:199px;"><p>$CourseTemplate.longDescription</p></td><td style="width:438px;"><p>courseTemplateRecord/courseTemplate/catalogDescription/longDescription</p></td></tr><tr><td style="width:199px;"><p>$CourseTemplate.courseNumber</p></td><td style="width:438px;"><p>courseTemplateRecord/courseTemplate/courseNumber/textString</p></td></tr><tr><td style="width:199px;"><p>$CourseTemplate.credits</p></td><td style="width:438px;"><p>courseTemplateRecord/courseTemplate/defaultCredits/textString</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-34"></a></div><h2 class=" toc-headings">C.6 &nbsp;&nbsp; LIS Course Offering Variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:205px;"><p><strong>Message Variable Name</strong></p></th><th style="width:432px;"><p><strong>XPath for value from LIS Database</strong></p></th></tr></thead><tbody><tr><td style="width:205px;"><p>$CourseOffering.sourcedId</p></td><td style="width:432px;"><p>courseOfferingRecord/sourcedId</p></td></tr><tr><td style="width:205px;"><p>$CourseOffering.label</p></td><td style="width:432px;"><p>courseOfferingRecord/courseOffering/label</p></td></tr><tr><td style="width:205px;"><p>$CourseOffering.title</p></td><td style="width:432px;"><p>courseOfferingRecord/courseOffering/title</p></td></tr><tr><td style="width:205px;"><p>$CourseOffering.shortDescription</p></td><td style="width:432px;"><p>courseOfferingRecord/courseOffering/catalogDescription/shortDescription</p></td></tr><tr><td style="width:205px;"><p>$CourseOffering.longDescription</p></td><td style="width:432px;"><p>courseOfferingRecord/courseOffering/catalogDescription/longDescription</p></td></tr><tr><td style="width:205px;"><p>$CourseOffering.courseNumber</p></td><td style="width:432px;"><p>courseOfferingRecord/courseOffering/courseNumber/textString</p></td></tr><tr><td style="width:205px;"><p>$CourseOffering.credits</p></td><td style="width:432px;"><p>courseOfferingRecord/courseOffering/defaultCredits/textString</p></td></tr><tr><td style="width:205px;"><p>$CourseOffering.academicSession</p></td><td style="width:432px;"><p>courseOfferingRecord/courseOffering/defaultCredits/textString</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-35"></a></div><h2 class=" toc-headings">C.7 &nbsp;&nbsp; LIS Course Section Variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:205px;"><p><strong>Message Variable Name</strong></p></th><th style="width:432px;"><p><strong>XPath for value from LIS Database</strong></p></th></tr></thead><tbody><tr><td style="width:205px;"><p>$CourseSection.sourcedId</p></td><td style="width:432px;"><p>courseSection/sourcedId</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.label</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/label</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.title</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/title</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.shortDescription</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/catalogDescription/shortDescription</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.longDescription</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/catalogDescription/longDescription</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.courseNumber</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/courseNumber/textString</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.credits</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/defaultCredits/textString</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.maxNumberofStudents</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/maxNumberofStudents</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.numberofStudents</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/numberofStudents</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.dept</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/org[type/textString="Dept"] /orgName/textString</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.timeFrame.begin</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/timeFrame/begin</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.timeFrame.end</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/timeFrame/end</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.enrollControl.accept</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/enrollControl/enrollAccept</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.enrollControl.allowed</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/enrollControl/enrollAllowed</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.dataSource</p></td><td style="width:432px;"><p>courseSectionRecord/courseSection/dataSource</p></td></tr><tr><td style="width:205px;"><p>$CourseSection.sourceSectionId</p></td><td style="width:432px;"><p>createCourseSectionFromCourseSectionRequest/sourcedId</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-36"></a></div><h2 class=" toc-headings">C.8 &nbsp;&nbsp; LIS Group Variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:205px;"><p><strong>Message Variable Name</strong></p></th><th style="width:432px;"><p><strong>XPath for value from LIS Database</strong></p></th></tr></thead><tbody><tr><td style="width:205px;"><p>$Group.sourcedId</p></td><td style="width:432px;"><p>groupRecord/sourcedId</p></td></tr><tr><td style="width:205px;"><p>$Group.grouptype.scheme</p></td><td style="width:432px;"><p>groupRecord/group/groupType/scheme/textString</p></td></tr><tr><td style="width:205px;"><p>$Group.grouptype.typevalue</p></td><td style="width:432px;"><p>groupRecord/group/groupType/typevalue/textString</p></td></tr><tr><td style="width:205px;"><p>$Group.grouptype.level</p></td><td style="width:432px;"><p>groupRecord/group/groupType/typevalue/level/textString</p></td></tr><tr><td style="width:205px;"><p>$Group.email</p></td><td style="width:432px;"><p>groupRecord/group/email</p></td></tr><tr><td style="width:205px;"><p>$Group.url</p></td><td style="width:432px;"><p>groupRecord/group/url</p></td></tr><tr><td style="width:205px;"><p>$Group.timeFrame.begin</p></td><td style="width:432px;"><p>groupRecord/group/timeframe/begin</p></td></tr><tr><td style="width:205px;"><p>$Group.timeFrame.end</p></td><td style="width:432px;"><p>groupRecord/group/timeframe/end</p></td></tr><tr><td style="width:205px;"><p>$Group.enrollControl.accept</p></td><td style="width:432px;"><p>groupRecord/group/enrollControl/enrollAccept</p></td></tr><tr><td style="width:205px;"><p>$Group.enrollControl.allowed</p></td><td style="width:432px;"><p>groupRecord/group/enrollControl/enrollAllowed</p></td></tr><tr><td style="width:205px;"><p>$Group.shortDescription</p></td><td style="width:432px;"><p>groupRecord/group/description/shortDescription</p></td></tr><tr><td style="width:205px;"><p>$Group.longDescription</p></td><td style="width:432px;"><p>groupRecord/group/description/longDescription</p></td></tr><tr><td style="width:205px;"><p>$Group.parentId</p></td><td style="width:432px;"><p>groupRecord/group/relationship[relation="Parent"]/sourcedId</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-37"></a></div><h2 class=" toc-headings">C.9 &nbsp;&nbsp; LIS Membership Variables</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:205px;"><p><strong>Message Variable Name</strong></p></th><th style="width:432px;"><p><strong>XPath for value from LIS Database</strong></p></th></tr></thead><tbody><tr><td style="width:205px;"><p>$Membership.sourcedId</p></td><td style="width:432px;"><p>membershipRecord/sourcedId</p></td></tr><tr><td style="width:205px;"><p>$Membership.collectionSourcedId</p></td><td style="width:432px;"><p>membershipRecord/membership/collectionSourcedId</p></td></tr><tr><td style="width:205px;"><p>$Membership.personSourcedId</p></td><td style="width:432px;"><p>membershipRecord/membership/member/personSourcedId</p></td></tr><tr><td style="width:205px;"><p>$Membership.status</p></td><td style="width:432px;"><p>membershipRecord/membership/member/role/status</p></td></tr><tr><td style="width:205px;"><p>$Membership.role</p></td><td style="width:432px;"><p>membershipRecord/membership/member/role/roleType</p></td></tr><tr><td style="width:205px;"><p>$Membership.createdTimestamp</p></td><td style="width:432px;"><p>membershipRecord/membership/member/role/dataTime</p></td></tr><tr><td style="width:205px;"><p>$Membership.dataSource</p></td><td style="width:432px;"><p>membershipRecord/membership/member/role/dataSource</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-38"></a></div><h2 class=" toc-headings">C.10 Tool Consumer Variable</h2><div class="toc-top-links"><a href="/specs/ltiv1p2/implementation-guide#table-of-contents" target="_blank">Move to top</a></div><table border="1" cellpadding="0" cellspacing="0" style="width:637px;" width="637"><thead><tr><th style="width:205px;"><p><strong>Message Variable Name</strong></p></th><th style="width:432px;"><p><strong>Corresponding LTI value</strong></p></th></tr></thead><tbody><tr><td style="width:205px;"><p>$ToolConsumerProfile.url</p></td><td style="width:432px;"><p>URL for requests for the tool consumer profile</p></td></tr></tbody></table><p>&nbsp;</p><div class="toc-item-anchor"><a name="toc-11"></a></div></div></LTIDocs></body></html>